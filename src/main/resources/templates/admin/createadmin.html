<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<title>Cupcake Shop</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="../../public/css/createadmin.css" th:href="@{/css/admin/createadmin.css}" rel="stylesheet"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>

<body>

<!--Herunder ligger headeren, som skal være ens på siderne-->
<header>
    <a href="index.html" th:href="@{/}">
        <img id="banner" src="../public/images/CupcakeShop_header.png" th:src="@{/images/CupcakeShop_header.png}" width="100%"/>
    </a>
</header>

<!--Her ligger al den overliggende navigation. th:href henviser til routingen-->
<nav>
    <ul>
        <li style="float:right"><a href="admin/controlpanel.html" th:href="@{/controlPanel}">Control Panel</a></li>

        <!-- Move logout inside the list and only show if a user is logged in -->
        <li id="logoutbutton" th:if="${session.currentAdmin != null}" style="float:right">
            <a href="index.html" th:href="@{/logout}">Logout</a>
        </li>
        <li style="float:right"><p><span th:text="${session.currentAdmin.email}"></span></p></li>
    </ul>
</nav>

<p>Welcome, admin: <span th:text="${session.currentAdmin.email}"></span></p>


<div class="createAdmin-box">
    <div class="createAdmin-items">
        <h2>Create Admin Account</h2>
        <p th:if="${message}" style="color: red;">[[${message}]]</p>
        <form action="/createadmin" th:action="@{/createAdmin}" method="post" onsubmit="console.log('Form submitted!')">
            <label for="email">E-mail</label>:
            <!-- Denne nedenstående form gør at den kræver en e-mail format -->
            <input
                    type="email" id="email" name="email"
                    autofocus
                    required
                    pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
                    title="Please enter a valid email (e.g., admin@olsker.dk)"
            />
            <br/>
            <label for="password">Password</label>:
            <input
                    type="password" id="password" name="password"
                    pattern="^(?=.*[A-Z])(?=.*\d).{4,}$"
                    title="Password must contain: 1 uppercase letter, 1 number, and be at least 4 characters long"
                    required
            />
            <br/>
            <label for="password2">Confirm Password</label>:
            <input type="password" id="password2" name="password2"/><br/>
            <input class="button" type="submit" value="Create Admin"/>
        </form>
    </div>
</div>

</body>
</html>